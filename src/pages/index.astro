---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import H1 from '../components/mdxComponents/H1.astro';
import P from '../components/mdxComponents/P.astro';
import H3 from '../components/mdxComponents/H3.astro';
import Link  from '../components/mdxComponents/Link.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Main from '../components/Main.astro';
import { getCollection } from 'astro:content';
import Image from '../components/mdxComponents/Image.astro';
import NoteCard from '../components/NoteCard.astro';
import BookCard from '../components/BookCard.astro';
import WorkCard from '../components/workCard.astro';
import EssayCard from '../components/EssayCard.astro';
import GardenLink from '../components/GardenLink.astro';
import HeroSvgs from '../components/svgs/HeroSvgs.astro';

// Get 10 featured posts from each collection
// Get featured and published posts from each collection
const notes = (await getCollection('notes', ({ data }) => data.publish === true))
  .filter(post => post.data.featured === true)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 4);

const essays = (await getCollection('essays', ({ data }) => data.publish === true))
  .filter(post => post.data.featured === true)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 10);

const works = (await getCollection('works', ({ data }) => data.publish === true))
  .filter(post => post.data.featured === true)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 10);

const books = (await getCollection('books', ({ data }) => data.publish === true))
  .filter(post => post.data.featured === true)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 10);

---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main>
      <div class="w-[90%] mx-auto justify-between grid grid-cols-1 md:grid-cols-2 gap-10">
        <div class="sm:w-full md:w-2xl">
          <h1 class="mb-3 lg:mt-20 mt-10 md:mt-15 text-7xl md:text-8xl lg:text-10xl font-bold uppercase bg-clip-text text-transparent" style="background-image: linear-gradient(101.09deg, #1E1E1E 5.49%, #324084 65.78%)">A Cacophony of Thoughts</h1>
          <p class="w-[80%] text-xl">Personal Website and Portfolio of Ruwaiz Razak, a Designer.</p>

          <h4 class="text-xl uppercase text-gray-500 mt-10">Garden</h4>
          <ul>
            <li><GardenLink
              href="/essays"
              title="Essays"
              description="Very much under NDA, but I can show you my process."
            /></li>
            <li><GardenLink
              href="/notes"
              title="Notes"
              description="Not refined, incomplete, but a starting point."
            /></li>
            <li><GardenLink
              href="/books"
              title="Books"
              description="I've read, Currently Reading and my notes on them."
            /></li>
            <li>---</li>
            <li><GardenLink
              href="/about"
              title="About"
              description="What am I?"
            /></li>
            <li><GardenLink
              href="/live"
              title="Live"
              description="Shares a glimpse of whats happening."
            /></li>

          </ul>
        </div>
        <div class="max-lg:invisible flex justify-end">
          <HeroSvgs />
        </div>
        </div>
      </div>

      </div>
		</main>
		<Footer />
	</body>
</html>

